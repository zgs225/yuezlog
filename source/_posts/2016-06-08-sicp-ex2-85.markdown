---
layout: mathjax
title: "sicp-ex2-85"
keywords:
  - 计算机程序的构造和解释,
  - 习题解答,
  - Structure and Interpretation of Computer Programs,
date: 2016-06-08 07:31:40 +0800
comments: true
hidden: true
categories: draft
---

### 问题

本节中提到了“简化”数据对象表示的一种方法，就是使之在类型塔中经可能地下降。请设计
一个过程`drop`（下落），使它能在如练习2.83所描述的类型塔中完成这一工作。这里的关
键是以某种一般性的方式，判断一个数据对象能否下降。举例来说，复数$1.5 + 0i$至多可
以下降到real，复数$1 + 0i$至多可以下降到integer，而复数$2 + 3i$就根本无法下降。
现在提出一种确定一个对象能否下降的计划：首先定义一个运算`project`（投影），它将
一个对象压到塔的下面一层。例如，投影一个复数就是掉丢其虚部。这样一个数能够向下落，
如果我们首先`project`它而后将得到的结果`raise`到开始的类型，最终得到的东西与开始
的东西相等。请阐述实现这一想法的具体细节，并写出一个`drop`过程，是它可以将一个对
像尽可能的下落。你将需要设计各种各样的投影函数，并需要把`project`安装为系统里的一
个通用型操作。你还需要使用一个通用型的相等谓词，例如练习2.79所描述的。最后，利用
`drop`重写练习2.84的`apply-generic`，使之可能简化其结果。

### 解答

{% include_code 练习2.85 lang:scheme sicp/ex2-85.scm %}
